<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ® ØªØ·Ø¨ÙŠÙ‚ Ø£Ù„Ø¹Ø§Ø¨ Ù†Ù‚Ø§Ø· - Ù…Ø¹ ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />
<style>
  body {
    margin: 0; font-family: 'Cairo', sans-serif; background: #121212; color: #fff; display: flex; height: 100vh;
  }
  .sidebar {
    width: 220px; background: #1f1f1f; padding: 20px; display: flex; flex-direction: column;
  }
  .sidebar h2 {
    margin-bottom: 15px; font-size: 22px;
  }
  .sidebar button {
    background: #333; border: none; margin-bottom: 10px; padding: 10px; border-radius: 8px;
    cursor: pointer; color: #fff; transition: background 0.3s;
    text-align: right;
  }
  .sidebar button:hover {
    background: #555;
  }
  .main {
    flex-grow: 1; padding: 20px; overflow-y: auto;
  }
  .top-bar {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
  }
  .balance {
    background: #222; padding: 12px 20px; border-radius: 10px; font-weight: bold; font-size: 18px;
  }
  .lang-toggle {
    background: #444; border: none; color: #fff; padding: 8px 14px; border-radius: 8px;
    cursor: pointer; font-weight: 600;
  }
  .user-info {
    background: #222; padding: 12px 20px; border-radius: 10px; margin-bottom: 15px;
    font-size: 16px;
  }
  .game-list {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;
  }
  .game-card {
    background: #1e1e1e; padding: 20px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.6);
    transition: transform 0.3s ease;
  }
  .game-card:hover {
    transform: scale(1.05);
  }
  .game-card h3 {
    margin-bottom: 15px;
  }
  .game-card button {
    background: #03dac6; border: none; padding: 10px 15px; border-radius: 8px; cursor: pointer;
    font-weight: 700; color: #000;
    transition: background 0.3s ease;
  }
  .game-card button:hover {
    background: #00b89c;
  }
  .result {
    margin-top: 12px; font-size: 15px; min-height: 25px; min-width: 100%;
  }
  input[type="number"], input[type="text"] {
    width: 70px; padding: 7px; border-radius: 8px; border: none; margin-top: 10px;
    font-size: 16px;
  }
  #loginSection {
    background: #222; padding: 30px; border-radius: 15px; max-width: 300px; margin: auto;
  }
  #loginSection input[type="text"] {
    width: 100%; margin-bottom: 15px;
  }
  #loginSection button {
    width: 100%; padding: 12px; font-size: 16px; font-weight: 700;
    background: #03dac6; border: none; border-radius: 8px; cursor: pointer; color: #000;
  }
</style>
</head>
<body>

<div class="sidebar">
  <h2>ğŸ® Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h2>
  <button onclick="showSection('games')">ğŸ•¹ï¸ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
  <button onclick="showSection('achievements')">ğŸ† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</button>
  <button onclick="showSection('leaderboard')">ğŸ“ˆ Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</button>
  <button onclick="resetGame()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
  <button onclick="toggleSound()">ğŸ”‡/ğŸ”Š ÙƒØªÙ… Ø§Ù„ØµÙˆØª</button>
  <button class="lang-toggle" onclick="toggleLanguage()">ğŸŒ Ø§Ù„Ù„ØºØ©</button>
  <button id="logoutBtn" onclick="logout()" style="display:none; background:#b33;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</div>

<div class="main">

  <div id="loginSection">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <input type="text" id="usernameInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
    <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
  </div>

  <div id="appContent" style="display:none;">
    <div class="top-bar">
      <div class="user-info" id="userInfo"></div>
      <div class="balance" id="balance">Ø±ØµÙŠØ¯Ùƒ: 0 Ù†Ù‚Ø·Ø©</div>
      <div id="language">Ø§Ù„Ù„ØºØ©: Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
    </div>

    <div id="section-games" class="section">
      <div class="game-list">

        <!-- Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù‡Ù†Ø§ Ù…Ø«Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚ -->
        <div class="game-card">
          <h3>ğŸ² Ø§Ù„Ù†Ø±Ø¯ (5 Ù†Ù‚Ø§Ø·)</h3>
          <button onclick="playDice()">Ø§Ù„Ø¹Ø¨</button>
          <div class="result" id="diceResult"></div>
        </div>
        <div class="game-card">
          <h3>âœ‚ï¸ Ø­Ø¬Ø± ÙˆØ±Ù‚ Ù…Ù‚Øµ (5 Ù†Ù‚Ø§Ø·)</h3>
          <button onclick="playRPS('rock')">ğŸª¨</button>
          <button onclick="playRPS('paper')">ğŸ“„</button>
          <button onclick="playRPS('scissors')">âœ‚ï¸</button>
          <div class="result" id="rpsResult"></div>
        </div>
        <!-- Ø£Ø¶Ù Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->

      </div>
    </div>

    <div id="section-achievements" class="section" style="display:none;">
      <h2>ğŸ† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</h2>
      <ul id="achievementsList"></ul>
    </div>

    <div id="section-leaderboard" class="section" style="display:none;">
      <h2>ğŸ“ˆ Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</h2>
      <ol id="leaderboardList"></ol>
    </div>
  </div>
</div>

<script>
let currentUser = null;
let balance = 0;
let achievements = new Set();
let leaderboard = [];
let mute = false;
let language = "ar";

function saveUserData() {
  if (!currentUser) return;
  localStorage.setItem("user_" + currentUser, JSON.stringify({
    balance,
    achievements: [...achievements]
  }));
}

function loadUserData() {
  if (!currentUser) return;
  let data = localStorage.getItem("user_" + currentUser);
  if (data) {
    let obj = JSON.parse(data);
    balance = obj.balance || 100;
    achievements = new Set(obj.achievements || []);
  } else {
    balance = 100;
    achievements = new Set();
  }
}

function login() {
  let username = document.getElementById("usernameInput").value.trim();
  if (!username) {
    alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…");
    return;
  }
  currentUser = username;
  loadUserData();
  loadLeaderboard();
  document.getElementById("loginSection").style.display = "none";
  document.getElementById("appContent").style.display = "block";
  document.getElementById("logoutBtn").style.display = "block";
  document.getElementById("userInfo").textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${currentUser}`;
  updateBalance();
  updateAchievements();
  updateLeaderboard();
}

function logout() {
  saveUserData();
  currentUser = null;
  document.getElementById("loginSection").style.display = "block";
  document.getElementById("appContent").style.display = "none";
  document.getElementById("logoutBtn").style.display = "none";
  document.getElementById("usernameInput").value = "";
}

// Ø§Ù„ØªÙˆØ§Ø²Ù†
function updateBalance() {
  document.getElementById("balance").textContent = `Ø±ØµÙŠØ¯Ùƒ: ${balance} Ù†Ù‚Ø·Ø©`;
  saveUserData();
  checkAchievements();
  updateLeaderboard();
}

// Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
function resetGame() {
  if (!currentUser) return alert("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
  if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§ØªØŸ")) {
    balance = 100;
    achievements.clear();
    saveUserData();
    updateBalance();
    updateAchievements();
  }
}

// Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
function updateAchievements() {
  const list = document.getElementById("achievementsList");
  list.innerHTML = "";
  if (achievements.size === 0) {
    list.innerHTML = "<li>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</li>";
    return;
  }
  achievements.forEach(a => {
    const li = document.createElement("li");
    li.textContent = a;
    list.appendChild(li);
  });
}

function checkAchievements() {
  if (balance >= 200 && !achievements.has("ğŸ… ÙˆØµÙ„Øª Ø¥Ù„Ù‰ 200 Ù†Ù‚Ø·Ø©!")) achievements.add("ğŸ… ÙˆØµÙ„Øª Ø¥Ù„Ù‰ 200 Ù†Ù‚Ø·Ø©!");
  if (balance >= 500 && !achievements.has("ğŸ¥‡ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ 500 Ù†Ù‚Ø·Ø©!")) achievements.add("ğŸ¥‡ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ 500 Ù†Ù‚Ø·Ø©!");
  updateAchievements();
}

// Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†
function loadLeaderboard() {
  let data = localStorage.getItem("leaderboard");
  leaderboard = data ? JSON.parse(data) : [];
}

function updateLeaderboard() {
  if (!currentUser) return;
  // ØªØ­Ø¯ÙŠØ« Ø£Ùˆ Ø¥Ø¶Ø§ÙØ©
  let found = false;
  for (let i = 0; i < leaderboard.length; i++) {
    if (leaderboard[i].name === currentUser) {
      leaderboard[i].score = balance;
      found = true;
      break;
    }
  }
  if (!found) {
    leaderboard.push({ name: currentUser, score: balance });
  }
  leaderboard.sort((a,b) => b.score - a.score);
  leaderboard = leaderboard.slice(0, 10);
  localStorage.setItem("leaderboard", JSON.stringify(leaderboard));
  const list = document.getElementById("leaderboardList");
  list.innerHTML = "";
  leaderboard.forEach(entry => {
    const li = document.createElement("li");
    li.textContent = `${entry.name}: ${entry.score} Ù†Ù‚Ø§Ø·`;
    list.appendChild(li);
  });
}

// Ù„ØºØ©
function toggleLanguage() {
  language = language === "ar" ? "en" : "ar";
  document.getElementById("language").textContent = language === "ar" ? "Ø§Ù„Ù„ØºØ©: Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" : "Language: English";
  // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªØ±Ø¬Ù…Ø© Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù†ØµÙˆØµ Ù‡Ù†Ø§
}

// ÙƒØªÙ… Ø§Ù„ØµÙˆØª
function toggleSound() {
  mute = !mute;
  alert(mute ? "ØªÙ… ÙƒØªÙ… Ø§Ù„ØµÙˆØª" : "ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª");
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ù„Ø¹Ø¨
function requireLogin() {
  if (!currentUser) {
    alert("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
    return false;
  }
  return true;
}

// === Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ===

// 1. Ø§Ù„Ù†Ø±Ø¯
function playDice() {
  if (!requireLogin()) return;
  if (balance < 5) return alert("Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ Ù„Ù„Ø¹Ø¨!");
  balance -= 5;
  updateBalance();
  const dice = Math.floor(Math.random() * 6) + 1;
  const win = dice >= 4; // 4,5,6 ØªØ±Ø¨Ø­
  if (win) balance += 10;
  updateBalance();
  document.getElementById("diceResult").textContent = `Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ø±Ø¯: ${dice} - ${win ? "Ø±Ø§Ø¨Ø­!" : "Ø®Ø³Ø±!"}`;
}

// 2. Ø­Ø¬Ø± ÙˆØ±Ù‚ Ù…Ù‚Øµ
function playRPS(choice) {
  if (!requireLogin()) return;
  if (balance < 5) return alert("Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ Ù„Ù„Ø¹Ø¨!");
  balance -= 5;
  updateBalance();
  const options = ["rock", "paper", "scissors"];
  const computer = options[Math.floor(Math.random() * 3)];
  let result = "";
  if (choice === computer) result = "ØªØ¹Ø§Ø¯Ù„";
  else if (
    (choice === "rock" && computer === "scissors") ||
    (choice === "paper" && computer === "rock") ||
    (choice === "scissors" && computer === "paper")
  ) {
    result = "Ø±Ø§Ø¨Ø­!";
    balance += 10;
  } else {
    result = "Ø®Ø³Ø±!";
  }
  updateBalance();
  document.getElementById("rpsResult").textContent = `Ø§Ù†Øª: ${choice} | Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±: ${computer} - ${result}`;
}

// ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†ÙØ³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯.

</script>
<a href="games.html">Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</a>

</body>
</html>
